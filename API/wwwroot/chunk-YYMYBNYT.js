import{a as q}from"./chunk-RWYPSRAB.js";import{a as E,b as z,c as G}from"./chunk-4EBZWCTQ.js";import{a as I}from"./chunk-PPTWFZFG.js";import{a as U,d as V}from"./chunk-FFJ3ZTU4.js";import{b as $}from"./chunk-AJ5XW3XI.js";import{$b as g,Db as m,Eb as l,Fb as S,Ka as B,La as T,Ma as R,Oa as x,Pa as f,Qa as v,Ra as e,Sa as t,Ta as k,U as p,W as D,X as _,_a as A,_b as y,ab as P,cb as C,gc as j,gd as N,ic as F,jc as O,ma as w,na as n,qb as i,rb as d,sb as s,va as u,xb as M,yb as L}from"./chunk-YHFUIHAH.js";var Q=(a,o)=>o.productId;function W(a,o){if(a&1&&(e(0,"tr")(1,"td",20)(2,"div",21),k(3,"img",22),e(4,"span"),i(5),t()()(),e(6,"td",23),i(7),t(),e(8,"td",24),i(9),m(10,"currency"),t()()),a&2){let r=o.$implicit;n(3),v("src",M(r.pictureURL),w),n(2),d(r.productName),n(2),s("x",r.quantity),n(2),d(l(10,5,r.price))}}function X(a,o){if(a&1){let r=A();e(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"h2",3),i(4),t(),e(5,"button",4),P("click",function(){D(r);let H=C();return _(H.onReturnClick())}),i(6),t()(),e(7,"div",5)(8,"div",6)(9,"h4",7),i(10,"Billing and Delivery information"),t(),e(11,"dl")(12,"dt",8),i(13,"Shipping Address"),t(),e(14,"dd",9),i(15),m(16,"address"),t()(),e(17,"dl")(18,"dt",8),i(19,"Payment info"),t(),e(20,"dd",9),i(21),m(22,"payment"),t()()(),e(23,"div",6)(24,"h4",7),i(25,"Order Details"),t(),e(26,"dl")(27,"dt",8),i(28,"Email Address"),t(),e(29,"dd",9),i(30),t()(),e(31,"dl")(32,"dt",8),i(33,"Order Status"),t(),e(34,"dd",9),i(35),t()(),e(36,"dl")(37,"dt",8),i(38,"Order Date"),t(),e(39,"dd",9),i(40),m(41,"date"),t()()()(),e(42,"div",10)(43,"div",11)(44,"table",12)(45,"tbody",13),x(46,W,11,7,"tr",null,Q),t()()()(),e(48,"div",14)(49,"p",15),i(50,"Order Summary"),t(),e(51,"div",16)(52,"div",6)(53,"dl",17)(54,"dt",8),i(55,"Subtotal"),t(),e(56,"dd",8),i(57),m(58,"currency"),t()(),e(59,"dl",17)(60,"dt",8),i(61,"Discount"),t(),e(62,"dd",18),i(63),m(64,"currency"),t()(),e(65,"dl",17)(66,"dt",8),i(67,"Delivery Fee"),t(),e(68,"dd",8),i(69),m(70,"currency"),t()()(),e(71,"dl",19)(72,"dt",8),i(73,"Total"),t(),e(74,"dd",8),i(75),m(76,"currency"),t()()()()()()}if(a&2){let r=C();n(4),s("Order Summary for order #",r.order.id),n(2),d(r.buttonText),n(9),d(l(16,11,r.order.shippingAddress)),n(6),d(l(22,13,r.order.paymentSummary)),n(9),d(r.order.buyerEmail),n(5),d(r.order.orderStatus),n(5),d(S(41,15,r.order.orderDate,"medium")),n(6),f(r.order.orderItems),n(11),d(l(58,18,r.order.subTotal)),n(6),d(l(64,20,r.order.discount)),n(6),d(l(70,22,r.order.shippingPrice)),n(6),d(l(76,24,r.order.total))}}var b=class a{ngOnInit(){this.loadOrder()}orderService=p(E);activatedRoute=p(j);accountService=p($);adminService=p(q);router=p(F);order;buttonText=this.accountService.isAdmin()?"Return To Admin":"Return To Orders";loadOrder(){let o=this.activatedRoute.snapshot.paramMap.get("id");if(!o)return;(this.accountService.isAdmin()?this.adminService.getOrder(+o):this.orderService.getOrder(+o)).subscribe({next:c=>this.order=c})}onReturnClick(){this.accountService.isAdmin()?this.router.navigateByUrl("/admin"):this.router.navigateByUrl("/orders")}static \u0275fac=function(r){return new(r||a)};static \u0275cmp=u({type:a,selectors:[["app-order-detailed"]],decls:1,vars:1,consts:[[1,"py-8","shadow-md","max-w-screen-lg","mx-auto"],[1,"px-4","w-full"],[1,"flex","justify-between","items-center","align-middle"],[1,"text-2xl","text-center","font-semibold"],["routerLink","/orders","mat-stroked-button","",3,"click"],[1,"mt-8","py-3","border-t","border-gray-200","flex","gap-16"],[1,"space-y-2"],[1,"text-lg","font-semibold"],[1,"font-medium"],[1,"mt-1","font-light"],[1,"mt-4"],[1,"border-y","border-gray-200"],[1,"w-full","text-center"],[1,"divide-y","divide-gray-200"],[1,"space-y-4","rounded-lg","border","border-gray-200","shadow-sm","p-4"],[1,"text-xl","font-semibold"],[1,"space-y-4"],[1,"flex","items-center","justify-between","gap-4"],[1,"font-medium","text-green-500"],[1,"flex","items-center","justify-between","gap-4","border-top","border-gray-200","pt-2"],[1,"py-4"],[1,"flex","items-center","gap-4"],["alt","product image",1,"w-10","h-10",3,"src"],[1,"p-4"],[1,"p-4","text-right"]],template:function(r,c){r&1&&B(0,X,77,26,"mat-card",0),r&2&&T(c.order?0:-1)},dependencies:[V,U,N,O,y,g,z,G],encapsulation:2})};function Y(a,o){if(a&1&&(e(0,"tr",10)(1,"th",11),i(2),t(),e(3,"td"),i(4),m(5,"date"),t(),e(6,"td"),i(7),m(8,"currency"),t(),e(9,"td"),i(10),t()()),a&2){let r=o.$implicit;v("routerLink",L("/orders/",r.id)),n(2),s("# ",r.id),n(2),d(S(5,6,r.orderDate,"medium")),n(3),d(l(8,9,r.total)),n(3),d(r.orderStatus)}}var h=class a{orderService=p(E);orders=[];ngOnInit(){this.getOrders()}getOrders(){this.orderService.getOrders().subscribe({next:o=>this.orders=o})}static \u0275fac=function(r){return new(r||a)};static \u0275cmp=u({type:a,selectors:[["app-order"]],decls:19,vars:0,consts:[[1,"mx-auto","mt-32"],[1,"font-semibold","text-2xl","mb-6","text-center"],[1,"flex","flex-col"],[1,"w-full"],[1,"min-w-full","divide-y","divide-gray-200","cursor-pointer"],[1,"bg-gray-50"],[1,"uppercase","text-gray-600","text-sm"],[1,"text-center","px-6","py-3"],[1,"text-left"],[1,"divide-y","divide-gray-200"],[1,"hover:bg-gray-100",3,"routerLink"],[1,"px-6","py-3"]],template:function(r,c){r&1&&(e(0,"div",0)(1,"h2",1),i(2,"My Orders"),t(),e(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead",5)(7,"tr",6)(8,"th",7),i(9,"Order"),t(),e(10,"th",8),i(11,"Date"),t(),e(12,"th",8),i(13,"Total"),t(),e(14,"th",8),i(15,"Status"),t()()(),e(16,"tbody",9),x(17,Y,11,11,"tr",10,R),t()()()()()),r&2&&(n(17),f(c.orders))},dependencies:[O,y,g],encapsulation:2})};var Ie=[{path:"",component:h,canActivate:[I]},{path:":id",component:b,canActivate:[I]}];export{Ie as ordersRoutes};
